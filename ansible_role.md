
## ansible Playbook
```
$ cd vivek-playbook/
$ sudo ansible-playbook -i hosts vivek_orchestrate.yml –vvv 

# Playbook: vivek_orchestrate.yml
--- 
   name: install and configure DB
   hosts: testServer
   become: yes

   vars: 
      oracle_db_port_value : 1521
   
   tasks:
   -name: Install the Oracle DB
      yum: <code to install the DB>
    
   -name: Ensure the installed service is enabled and running
   service:
      name: <your service name>
```

## ansible Role

The breaking of playbook allows you to logically break the playbook into reusable components.

Each role is basically limited to a particular functionality or desired output, with all the necessary steps to provide that result either within that role itself or in other roles listed as dependencies.

Roles are not playbooks. Roles are small functionality which can be independently used but have to be used within playbooks. There is no way to directly execute a role. Roles have no explicit setting for which host the role will apply to.

Top-level playbooks are the bridge holding the hosts from your inventory file to roles that should be applied to those hosts.

```
--- 
- hosts: tomcat-node 
roles: 
   - {role: install-tomcat} 
   - {role: start-tomcat} 
```

- file layout:

```
ansible.cfg
hosts
main.yml
roles/:  #each role direcoty has main.yml file.  
   install-tomcat/
   start-tomcat/  
```

The roles/ default file/dir layout can be generated by:
```
$ ansible-galaxy init vivekrole 
$ tree vivekrole/ 
vivekrole/ 
├── defaults 
│   └── main.yml 
├── files ├── handlers 
│   └── main.yml 
├── meta 
│   └── main.yml 
├── README.md ├── tasks 
│   └── main.yml 
├── templates ├── tests │   ├── inventory 
│   └── test.yml 
└── vars 
    └── main.yml 
    
ansible-galaxy [delete|import|info|init|install|list|login|remove|search|setup] [--help] [options] ... 
```
