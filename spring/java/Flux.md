# Java Flux
- [API doc](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html)
- [Tutorial]()

## [Sample](https://www.baeldung.com/flux-sequences-reactor)
### Synchronous Emission: generate() method
```
static <T,S> Flux<T> 	generate(Callable<S> stateSupplier, BiFunction<S,SynchronousSink<T>,S> generator)
static <T,S> Flux<T> 	generate(Callable<S> stateSupplier, BiFunction<S,SynchronousSink<T>,S> generator, Consumer<? super S> stateConsumer)
static <T> Flux<T> 	generate(Consumer<SynchronousSink<T>> generator)  // no state
```
- The Callable function sets up the initial state for the generator
- The BiFuntion function is a generator, consuming a SynchronousSink, then emitting an item in each round with the sink's next method and the current state
```
public class FibonacciState {
	    private int former;
	    private int latter;	 
	    // constructor, getters and setters
	}
  
public Flux<Integer> generateFibonacciWithCustomClass(int limit) {
	    return Flux.generate(
	      () -> new FibonacciState(0, 1),
	      (state, sink) -> {
	        sink.next(state.getFormer());
	        if (state.getLatter() > limit) {
	            sink.complete();
	        }
	        int temp = state.getFormer();
	        state.setFormer(state.getLatter());
	        state.setLatter(temp + state.getLatter());
	        return state;
	    });
	}
```

### Asynchronous Emission:
Use the create and push operators to produce multiple items in a round of emission in an asynchronous manner.
- create() method: produce items from multiple threads.
```
static <T> Flux<T> 	create(Consumer<? super FluxSink<T>> emitter)
static <T> Flux<T> 	create(Consumer<? super FluxSink<T>> emitter, FluxSink.OverflowStrategy backpressure)

public class SequenceCreator {
	    public Consumer<List<Integer>> consumer;
      
	    public Flux<Integer> createNumberSequence() {
	        return Flux.create(sink -> SequenceCreator.this.consumer = items -> items.forEach(sink::next));
	    }
	}
```

- push() method: similar to create, except that it allows only one producing thread to emit signals at a time.
```
static <T> Flux<T> 	push(Consumer<? super FluxSink<T>> emitter)
static <T> Flux<T> 	push(Consumer<? super FluxSink<T>> emitter, FluxSink.OverflowStrategy backpressure)
```

### Creators
#### combine method
- static <T,V> Flux<V> 	combineLatest(Function<Object[],V> combinator, int prefetch, Publisher<? extends T>... sources)

Build a Flux whose data are generated by the combination of the most recently published value from each of the Publisher sources.

- static <T,V> Flux<V> 	combineLatest(Function<Object[],V> combinator, Publisher<? extends T>... sources)

Build a Flux whose data are generated by the combination of the most recently published value from each of the Publisher sources.

- static <T,V> Flux<V> 	combineLatest(Iterable<? extends Publisher<? extends T>> sources, Function<Object[],V> combinator)

Build a Flux whose data are generated by the combination of the most recently published value from each of the Publisher sources provided in an Iterable.

- static <T,V> Flux<V> 	combineLatest(Iterable<? extends Publisher<? extends T>> sources, int prefetch, Function<Object[],V> combinator)

Build a Flux whose data are generated by the combination of the most recently published value from each of the Publisher sources provided in an Iterable.

- static <T1,T2,V> Flux<V> 	combineLatest(Publisher<? extends T1> source1, Publisher<? extends T2> source2, BiFunction<? super T1,? super T2,? extends V> combinator)

Build a Flux whose data are generated by the combination of the most recently published value from each of two Publisher sources.

- static <T1,T2,T3,V> Flux<V> 	combineLatest(Publisher<? extends T1> source1, Publisher<? extends T2> source2, Publisher<? extends T3> source3, Function<Object[],V> combinator)

Build a Flux whose data are generated by the combination of the most recently published value from each of three Publisher sources.

- static <T1,T2,T3,T4,V> Flux<V> 	combineLatest(Publisher<? extends T1> source1, Publisher<? extends T2> source2, Publisher<? extends T3> source3, Publisher<? extends T4> source4, Function<Object[],V> combinator)

Build a Flux whose data are generated by the combination of the most recently published value from each of four Publisher sources.

- static <T1,T2,T3,T4,T5,V> Flux<V> 	combineLatest(Publisher<? extends T1> source1, Publisher<? extends T2> source2, Publisher<? extends T3> source3, 
Publisher<? extends T4> source4, Publisher<? extends T5> source5, Function<Object[],V> combinator)

Build a Flux whose data are generated by the combination of the most recently published value from each of five Publisher sources.

- static <T1,T2,T3,T4,T5,T6,V> Flux<V> 	combineLatest(Publisher<? extends T1> source1, Publisher<? extends T2> source2, Publisher<? extends T3> source3, 
Publisher<? extends T4> source4, Publisher<? extends T5> source5, Publisher<? extends T6> source6, Function<Object[],V> combinator)

Build a Flux whose data are generated by the combination of the most recently published value from each of six Publisher sources.

#### concat method
- static <T> Flux<T> 	concat(Iterable<? extends Publisher<? extends T>> sources)

Concatenate all sources provided in an Iterable, forwarding elements emitted by the sources downstream.

- static <T> Flux<T> 	concat(Publisher<? extends Publisher<? extends T>> sources)

Concatenate all sources emitted as an onNext signal from a parent Publisher, forwarding elements emitted by the sources downstream.

- static <T> Flux<T> 	concat(Publisher<? extends Publisher<? extends T>> sources, int prefetch)

Concatenate all sources emitted as an onNext signal from a parent Publisher, forwarding elements emitted by the sources downstream.

- static <T> Flux<T> 	concat(Publisher<? extends T>... sources)

Concatenate all sources provided as a vararg, forwarding elements emitted by the sources downstream.

- static <T> Flux<T> 	concatDelayError(Publisher<? extends Publisher<? extends T>> sources)

Concatenate all sources emitted as an onNext signal from a parent Publisher, forwarding elements emitted by the sources downstream.

- static <T> Flux<T> 	concatDelayError(Publisher<? extends Publisher<? extends T>> sources, boolean delayUntilEnd, int prefetch)

Concatenate all sources emitted as an onNext signal from a parent Publisher, forwarding elements emitted by the sources downstream.

- static <T> Flux<T> 	concatDelayError(Publisher<? extends Publisher<? extends T>> sources, int prefetch)

Concatenate all sources emitted as an onNext signal from a parent Publisher, forwarding elements emitted by the sources downstream.

- static <T> Flux<T> 	concatDelayError(Publisher<? extends T>... sources)

Concatenate all sources provided as a vararg, forwarding elements emitted by the sources downstream.

